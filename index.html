<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kotret Pemetaan FIX</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Pemetaan Profil Pola Pikir</h1>
  <form id="quizForm">
    <div>
      <label>NAMA RESPONDEN <input type="text" id="nama" required></label><br>
      <label>INSTANSI/LEMBAGA <input type="text" id="instansi"></label><br>
      <label>BIDANG/MAPEL <input type="text" id="mapel"></label><br>
    </div>
    <div id="questions"></div>
    <button type="button" onclick="lihatHasil()">SUBMIT</button>
    <button type="reset">RESET</button>
    <button type="button" onclick="cetakLaporan()">LAPORAN HASIL</button>
  </form>

  <div id="shareSection" style="margin-top:20px;">
    <p>Bagikan Link:</p>
    <input type="text" value="https://contoh-link-kuesioner" readonly style="width:60%">
    <p>QR Code:</p>
    <img src="qrcode.png" alt="QR Code" width="120">
  </div>

<script>
  const statements = [
   "Kemampuan Anda adalah sesuatu yang sangat mendasar yang tidak banyak dapat Anda ubah lagi.",
   "Tidak peduli seberapapun tingkat kemampuan Anda saat ini, Anda bisa mengubahnya walaupun sedikit.",
   "Anda akan selalu dapat mengubah kemampuan Anda.",
   "Anda adalah seseorang yang unik, tidak banyak yang dapat dilakukan untuk mengubahnya.",
   "Anda akan selalu dapat mengubah diri Anda sendiri.",
   "Kemampuan dalam bidang seni dan musik dapat dipelajari oleh siapapun.",
   "Hanya sedikit orang yang benar-benar mahir dalam olahraga, Anda harus membawa bakat ini sejak lahir.",
   "Matematika lebih mudah dipelajari oleh pria atau seseorang yang berada dalam lingkungan yang menyukainya.",
   "Makin keras Anda mengerjakan sesuatu makin mahir Anda dalam hal ini.",
   "Tidak peduli tipe apapun Anda saat ini, Anda akan selalu dapat mengubahnya.",
   "Mencoba sesuatu yang baru akan sangat menyulitkan Anda sehingga Anda ingin menghindarinya.",
   "Sebagian orang baik dan pintar, sebagian lagi tidak. Tidak banyak yang dapat berubah.",
   "Saya sangat menghargai kritik dan saran dari siapapun juga terkait dengan kinerja saya saat ini.",
   "Saya kurang senang bila ada kritik dan saran dari orang lain.",
   "Semua orang yang tanpa cacat-otak atau cacat-lahir memiliki kemampuan yang sama dalam belajar.",
   "Anda bisa mempelajari sesuatu yang baru, tapi Anda tidak bisa mengubah kemampuan Anda.",
   "Anda dapat melakukan sesuatu secara berbeda, tapi sebenarnya Anda tetap tidak dapat mengubah kemampuan Anda.",
   "Semua orang pada dasarnya baik, tapi kadang-kadang membuat keputusan yang salah.",
   "Alasan terpenting mengapa Anda melakukan pekerjaan Anda adalah keinginan untuk mempelajari sesuatu yang baru.",
   "Orang yang benar-benar cerdas, tidak perlu bekerja keras."
  ];
  const labels = ["SS","S","TS","STS"];
  const scoring = [
   [0,1,2,3],[3,2,1,0],[3,2,1,0],[0,1,2,3],[3,2,1,0],[3,2,1,0],[0,1,2,3],[0,1,2,3],[3,2,1,0],[3,2,1,0],
   [0,1,2,3],[0,1,2,3],[3,2,1,0],[0,1,2,3],[3,2,1,0],[0,1,2,3],[0,1,2,3],[3,2,1,0],[3,2,1,0],[0,1,2,3]
  ];

  function renderQuestions(){
    const qDiv = document.getElementById('questions');
    qDiv.innerHTML = '';
    statements.forEach((text,i)=>{
      const wrap = document.createElement('div');
      wrap.classList.add('question');
      wrap.innerHTML = `<p><b>${i+1}.</b> ${text}</p>`;
      const optDiv = document.createElement('div');
      optDiv.classList.add('options');
      labels.forEach((lab,j)=>{
        const id = `q${i}_${j}`;
        optDiv.innerHTML += `<label><input type='radio' name='q${i}' value='${j}'> ${lab}</label>`;
      });
      wrap.appendChild(optDiv);
      qDiv.appendChild(wrap);
    });
  }
  renderQuestions();

  function lihatHasil(){
    alert("Jawaban sudah direkam. Klik 'Cetak Laporan' untuk melihat hasil analisis.");
  }

  function cetakLaporan(){
    const nama = document.getElementById('nama').value || 'Anonim';
    const instansi = document.getElementById('instansi').value || '-';
    const mapel = document.getElementById('mapel').value || '-';

    let total=0; const detail=[];
    for(let i=0;i<statements.length;i++){
      const sel = document.querySelector(`input[name='q${i}']:checked`);
      if(!sel){alert('Lengkapi semua soal sebelum mencetak laporan.'); return;}
      const v=parseInt(sel.value);
      const skor=scoring[i][v];
      total+=skor;
      detail.push({no:i+1, teks:statements[i], jwb:labels[v], skor, analisis:skor===3?"Menunjukkan pola pikir Growth":skor===0?"Cenderung Fixed Mindset":"Masih netral/berimbang"});
    }

    let kategori, interpretasi, motivasi;
    if(total<=20){kategori='F';interpretasi='Fixed Mindset (cenderung kaku terhadap perubahan)';motivasi='Jangan khawatir! Mulailah dengan langkah kecil, terbuka pada masukan, dan berani mencoba hal baru.';}
    else if(total<=33){kategori='FG';interpretasi='Sedang mengalami pergeseran dari Fixed ke Growth';motivasi='Progres Anda bagus! Pertahankan semangat belajar dan jangan takut gagal.';}
    else if(total<=44){kategori='GF';interpretasi='Ada kecenderungan bergeser dari Growth ke Fixed';motivasi='Ingat kembali semangat awal Anda. Fokus pada perkembangan, bukan kesempurnaan.';}
    else{kategori='G';interpretasi='Growth Mindset yang kuat';motivasi='Hebat! Teruslah belajar dan berkembang, serta inspirasi orang lain.';}

    // Buat halaman laporan baru
    let newWin = window.open('', '_blank');
    newWin.document.write(`<!DOCTYPE html><html><head><title>LAPORAN HASIL</title>
      <style>
        body{font-family:Arial, sans-serif; margin:20px;}
        h1,h2,h3{text-align:center;color:#2563eb;}
        table{width:100%;border-collapse:collapse;margin:20px 0;}
        th,td{border:1px solid #ccc;padding:8px;text-align:left;vertical-align:top;}
        th{background:#e0f2fe;color:#0369a1;}
        tr:nth-child(even){background:#f9fafb;}
        .summary,.motivasi{padding:12px;margin-top:20px;border-radius:10px;}
        .summary{background:#f0f9ff;border:1px solid #bae6fd;}
        .motivasi{background:#ecfdf5;border:1px solid #6ee7b7;}
        @media print{@page{size:A4;margin:2cm;}button{display:none;}}
      </style>
      </head><body>`);
    newWin.document.write(`<h1>LAPORAN HASIL</h1><h2>PEMETAAN PROFIL POLA PIKIR</h2>`);
    newWin.document.write(`<p><b>Nama:</b> ${nama}<br><b>Instansi:</b> ${instansi}<br><b>Mapel:</b> ${mapel}</p>`);
    newWin.document.write(`<table><thead><tr><th>No</th><th>Pernyataan</th><th>Jawaban</th><th>Skor</th><th>Analisis</th></tr></thead><tbody>`);
    detail.forEach(r=>{
      newWin.document.write(`<tr><td>${r.no}</td><td>${r.teks}</td><td>${r.jwb}</td><td>${r.skor}</td><td>${r.analisis}</td></tr>`);
    });
    newWin.document.write(`</tbody></table>`);
    newWin.document.write(`<div class='summary'><h3>Kesimpulan</h3><p><b>Total Skor:</b> ${total}<br><b>Kategori:</b> ${kategori}<br><b>Interpretasi:</b> ${interpretasi}</p></div>`);
    newWin.document.write(`<div class='motivasi'><h3>Motivasi</h3><p>${motivasi}</p></div>`);
    newWin.document.write(`<div style='text-align:center;margin-top:20px;'><button onclick='window.print()'>Cetak / Simpan PDF</button></div>`);
    newWin.document.write(`</body></html>`);
    newWin.document.close();
  }
</script>
</body>
</html>
